<div class="d-flex justify-content-start">
  <div class="col-xxl-4 col-sm-4 col-4 pr-0 pt-1">
    <div class="pt-2">
      <input type="checkbox" [(ngModel)]="isPositive" (change)="getClientAccountCrossCheckDetails()" /> Exclude zero value
    </div>

  </div>
  <div class="col-md-4 ml-auto">
    <div class="input-group">
      <label for="validationCustom01" class="input-group-text side-input-dia head-search ">Display Since:</label>
      <input id="pSize" type="number" class="form-control head-search" [(ngModel)]="displaySince" [value]="0"
        [step]="30" />

      <label class="input-group-text side-input-dia head-search "
        style="border-right:1px solid #ced4da;border-radius:4px">Months</label>
      <button class="btn btn-outline-dark px-2 mx-1" syle="height: 1.95rem !important;" (click)="getClientAccountCrossCheckDetails()"><i
          class="ri-refresh-line pr-2"></i>Refresh</button>
    </div>
  </div>
</div>
<h6 class="card-title text-center mt-3 mb-2 w-auto bg-white" style="border-radius: 5px">
  Cross-Check Orders Invoices With Client Account
</h6>

<div class="card mt-2 pb-0">
  <div class="table-veritical" style="position: relative;">
    <table class="table table-bordered data" id="mbListTable">
      <thead class="table-head-fix">
        <tr>
          <th (click)="sortData('cn')"><i class="material-icons sort-icon pr-2"
              [ngClass]="getSortIconClass('client')">{{ getSortIcon('client')}}</i>Client No
            <i class="filter-icon ri-filter-3-line pl-2" (click)="toggleFilter('cn')"></i>
          </th>
          <th style="width:25rem" (click)="sortData('client')"><i class="material-icons sort-icon pr-2"
              [ngClass]="getSortIconClass('client-name')">{{ getSortIcon('client-name')}}</i>Client name
            <i class="filter-icon ri-filter-3-line pl-2" (click)="toggleFilter('client')"></i>
          </th>
          <th (click)="sortData('vC_NO')"><i class="material-icons sort-icon pr-2"
              [ngClass]="getSortIconClass('invoice-no')">{{ getSortIcon('invoice-no')}}</i>Invoice No
          </th>
          <th (click)="sortData('invoice-date')"><i class="material-icons sort-icon pr-2"
              [ngClass]="getSortIconClass('invoice-date')">{{ getSortIcon('invoice-date')}}</i>Invoice Date
          </th>
          <th (click)="sortData('granD_VAL')"><i class="material-icons sort-icon pr-2"
              [ngClass]="getSortIconClass('invoice-value')">{{ getSortIcon('invoice-value')}}</i>Invoice Value
          </th>
          <th (click)="sortData('debit')"><i class="material-icons sort-icon pr-2"
              [ngClass]="getSortIconClass('account-value')">{{ getSortIcon('account-value')}}</i>Account Value
          </th>
          <th style="width:5rem" (click)="sortData('diff')"><i class="material-icons sort-icon pr-2"
              [ngClass]="getSortIconClass('difference')">{{ getSortIcon('difference')}}</i>Difference
            <i class="filter-icon ri-filter-3-line pl-2" (click)="toggleFilter('diff')"></i>
          </th>
        </tr>
        <tr *ngIf="isFilterVisible()" class="custom-filter-row">


          <td>
            <input *ngIf="filterVisibility.cn" type="text" class="form-control" placeholder="Filter client No"
              [(ngModel)]="cnFilter" (input)="applyFilters()" />
          </td>
          <td>
            <input *ngIf="filterVisibility.client" type="text" class="form-control" placeholder="Filter client Name"
              [(ngModel)]="clientFilter" (input)="applyFilters()" />
          </td>
          <td>
            <input *ngIf="filterVisibility.vC_NO" type="text" class="form-control" placeholder="Filter invocie no"
              [(ngModel)]="invoiceNoFilter" (input)="applyFilters()" />
          </td>
          <td>
            <input *ngIf="filterVisibility.inV_DATE" type="text" class="form-control" placeholder="Filter invoice date"
              [(ngModel)]="invoiceDateFilter" (input)="applyFilters()" />
          </td>
          <td>
            <input *ngIf="filterVisibility.granD_VAL" type="text" class="form-control"
              placeholder="Filter invoice value" [(ngModel)]="invocieValueFilter" (input)="applyFilters()" />
          </td>
          <td>
            <input *ngIf="filterVisibility.debit" type="text" class="form-control" placeholder="Filter account value"
              [(ngModel)]="accountValueFilter" (input)="applyFilters()" />
          </td>
          <td>
            <input *ngIf="filterVisibility.diff" type="text" class="form-control" placeholder="Filter difference"
              [(ngModel)]="differenceFilter" (input)="applyFilters()" />
          </td>
        </tr>
      <tbody>

        <tr *ngFor="let item of crossCheckList ; let i = index">


          <td>{{item.cn}}</td>
          <td class="tooltip-cell" style="max-width: 10rem; cursor: pointer" appTooltip="{{item.client}}">
            {{item.client}}</td>
          <td>{{item.vC_NO}}</td>
          <td>{{item.inV_DATE}}</td>
          <td>{{item.granD_VAL}}</td>
          <td>{{item.debit}}</td>
          <td>{{item.diff}}</td>
        </tr>
      </tbody>
    </table>

    <!-- Pagination Component -->
    <!-- <app-pagination [totalItems]="crossCheckList.length" [itemsPerPage]="itemsPerPage" [currentPage]="currentPage"
      (pageChange)="goToPage($event)" (pageSizeChange)="onPageSizeChange($event)"> 
    </app-pagination>  -->

  </div>

</div>
<div class="card mt-2">
  <div class="dataTables_info d-flex justify-content-start" style="font-size: 14px !important;">
    Total Records: {{ crossCheckList.length }}

  </div>
</div>

<!--  
<div class="card mt-2">
  <div class="dataTables_info d-flex justify-content-start" style="font-size: 14px !important;">
    Total Records: {{ crossCheckList.length }}
  </div>
</div> -->