<div class="row">
  <div class="col-md-7">
    <!-- <div class="form-group mt-1 col-md-4 float-right">
      <input type="text" class="form-control search-style" placeholder="Search..." [(ngModel)]="searchMethodText" (input)="onSearchMethod()"  />
    </div> -->
    <!-- Add-division -->
    <button class="add-btn add-row mb-2" type="button" (click)="addANLMethodTable()">
      <i class="ri-add-line"></i>&nbsp;&nbsp;Add Record
    </button>

    <!-- Add-division -->
    <!-- Table -->
    <div class="card">
      <div class="table-veritical">
        <table class="table table-bordered data" id="editableTable">
          <thead class="table-head-fix">
            <tr>
              <th style="width: 7rem">SOP Code</th>
              <th style="width: 6" (click)="sortData('r_MTHD', anlMethodList)">R Method<i
                  class="material-icons sort-icon" [ngClass]="getSortIconClass('r_MTHD')">{{ getSortIcon('r_MTHD')
                  }}</i></th>
              <th (click)="sortData('mthD_NAME', anlMethodList)">Method Name<i class="material-icons sort-icon"
                  [ngClass]="getSortIconClass('mthD_NAME')">{{ getSortIcon('mthD_NAME') }}</i></th>
              <th style="width: 7rem">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of anlMethodList.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage); let i = index">
              <td *ngIf="!item.IsEdit&&!item.IsAdd"><span>{{ item.soP_CODE }}</span></td>
              <td *ngIf="!item.IsEdit&&!item.IsAdd"><span>{{item.r_MTHD}}</span></td>
              <td style="max-width: 12rem" class="tooltip-cell" appTooltip="{{ item.mthD_NAME }}"
                *ngIf="!item.IsEdit&&!item.IsAdd"><span>{{ item.mthD_NAME }}</span></td>


              <td *ngIf="item.IsEdit||item.IsAdd"><input type="text"  #sopField required  
                  class="form-control {{required_sop_code}}" maxlength="15"  id="txt_{{ item.soP_CODE }}"
                  [(ngModel)]="item.soP_CODE" value="{{item.soP_CODE}}" />
              </td>
              <!-- (blur)="checkAlreadyExisting($event)" -->
              <td *ngIf="item.IsEdit||item.IsAdd"><input type="text" required
                   class="form-control {{required_method}}" maxlength="25"
                  id="txt_{{ item.r_MTHD }}" [(ngModel)]="item.r_MTHD" value="{{item.r_MTHD}}" />
              </td>
              <!-- (blur)="checkAlreadyExisting($event)" -->
              <td *ngIf="item.IsEdit||item.IsAdd"><input type="text" maxlength="120" required
                  class="form-control {{required_mthd_name}}" id="txt_{{ item.mthD_NAME }}" [(ngModel)]="item.mthD_NAME"
                  value="{{item.mthD_NAME}}" /> </td>

              <td>
                <button *ngIf="item.IsAdd&&!item.IsEdit" (click)="AddData(item)" class="add edit"><i
                    class="ri-save-line pr-1"></i>Save</button>
                <button *ngIf="item.IsAdd&&!item.IsEdit" class="cancel" (click)="CancelAddRow(item.anL_MTHD_ID)"><i
                    class="ri-close-line pr-1"></i>Cancel</button>

                <button *ngIf="item.IsEdit" class="save" (click)="Update(item)"><i
                    class="ri-check-double-line pr-1"></i>Update</button>
                <button *ngIf="item.IsEdit" class="cancel" (click)="CancelEditRow(item.anL_MTHD_ID)"><i
                    class="ri-close-line pr-1"></i>cancel</button>
                <button *ngIf="!item.IsEdit&&!item.IsAdd" class="edit" (click)="Edit(item.anL_MTHD_ID)"><i
                    class="ri-pencil-line pr-1"></i>Edit</button>
                <button *ngIf="!item.IsEdit&&!item.IsAdd" (click)="deleteRow(item.anL_MTHD_ID)" class="delete"><i
                    class="ri-delete-bin-line pr-1"></i>Delete </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- Pagination Component -->
      <!-- <app-pagination [totalItems]="anlMethodList.length" [itemsPerPage]="itemsPerPage" [currentPage]="currentPage"
        (pageChange)="goToPage($event)" (pageSizeChange)="onPageSizeChange($event)"
        (pageSizeChange)="onPageSizeChange($event)">
      </app-pagination> -->
    </div>
  </div>
  <div class="col-md-5">
    <!-- <div class="form-group mt-1 col-md-4 float-right">
      <input type="text" class="form-control search-style" placeholder="Search..."  [(ngModel)]="searchText" (input)="onSearch()" />
    </div> -->
    <!-- Add-division -->
    <button class="add-btn add-row mb-2" type="button" (click)="addEVSubHeaderTable()">
      <i class="ri-add-line"></i>&nbsp;&nbsp;Add Record
    </button>

    <!-- Add-division -->
    <!-- Table -->
    <div class="card">
      <div class="table-veritical">
        <table class="table table-bordered data" id="editableTable">
          <thead class="table-head-fix">
            <tr>
              <th style="width: 3.5rem">Id</th>
              <th (click)="sortData('shdR_NAME', evSubHeaderList)">Instrument<i class="material-icons sort-icon"
                  [ngClass]="getSortIconClass('shdR_NAME')">{{ getSortIcon('shdR_NAME') }}</i></th>
              <th style="width: 7rem">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of evSubHeaderList.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage); let i = index">

              <td *ngIf="!item.IsEdit&&!item.IsAdd"><span>{{item.shn}}</span></td>
              <td style="max-width: 5rem" class="tooltip-cell" appTooltip="{{ item.shdR_NAME }}"
                *ngIf="!item.IsEdit&&!item.IsAdd"><span>{{ item.shdR_NAME }}</span></td>


              <td *ngIf="item.IsEdit||item.IsAdd"><input type="text" required disabled="{{item.IsEdit?true:false}}"
                  class="form-control {{required_subheader_shn}}" readonly="true" readonly="true" minlength="3" maxlength="3"
                  id="txt_{{ item.shn }}" [(ngModel)]="item.shn" value="{{item.shn}}" />
              </td>
              <!-- (blur)="checkAlreadyExisting($event)" -->

              <td *ngIf="item.IsEdit||item.IsAdd"><input type="text" maxlength="40" required #headerInputField
                  class="form-control {{required_subheader_name}}" id="txt_{{ item.shdR_NAME }}" [(ngModel)]="item.shdR_NAME"
                  value="{{item.shdR_NAME}}" /> </td>

              <td>
                <button *ngIf="item.IsAdd&&!item.IsEdit" class="add edit" (click)="onAddEVSubHeaderData(item)"><i
                    class="ri-save-line pr-1"></i>Save</button>
                <button *ngIf="item.IsAdd&&!item.IsEdit" class="cancel"
                  (click)="onCancelEVSubHeaderAddRow(item.eV_SUBHDR_ID)"><i
                    class="ri-close-line pr-1"></i>cancel</button>

                <button *ngIf="item.IsEdit" class="save" (click)="onUpdateEVSubHeader(item)"><i
                    class="ri-check-double-line pr-1"></i>Update</button>
                <button *ngIf="item.IsEdit" class="cancel" (click)="onCancelEVSubHeaderEditRow(item.eV_SUBHDR_ID)"><i
                    class="ri-close-line pr-1"></i>cancel</button>
                <button *ngIf="!item.IsEdit&&!item.IsAdd" class="edit" (click)="onEditEVSubHeader(item.eV_SUBHDR_ID)"><i
                    class="ri-pencil-line pr-1"></i>Edit</button>
                <button *ngIf="!item.IsEdit&&!item.IsAdd" class="delete"
                  (click)="onDeleteEVSubHeaderRow(item.eV_SUBHDR_ID)"><i
                    class="ri-delete-bin-line pr-1"></i>Delete</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- Pagination Component -->
      <!-- <app-pagination [totalItems]="evSubHeaderList.length" [itemsPerPage]="itemsPerPage" [currentPage]="currentPage"
        (pageChange)="goToPage($event)" (pageSizeChange)="onPageSizeChange($event)"
        (pageSizeChange)="onPageSizeChange($event)">
      </app-pagination> -->
    </div>
  </div>
</div>